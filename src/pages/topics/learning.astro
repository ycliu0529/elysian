---
// src/pages/topics/learning.astro
import baselayout from "../../layouts/BaseLayout.astro";
import postcard from "../../components/PostCard.astro";
import { getCollection } from "astro:content";

// 1. 抓取所有 blog 文章
const allposts = await getCollection("blog");

// 2. 過濾出標籤包含 "English" 的文章 (您可以根據需求增加更多標籤)
const filteredposts = allposts.filter((post) => 
  post.data.tags?.some((tag: string) => tag.toLowerCase() === "english")
);

const pagetitle = "Learning"; // 網頁顯示文字首字母大寫 [cite: 2025-12-21]
---

<baselayout title={pagetitle}>
  <section class="topics-section">
    <h1>{pagetitle}</h1>
    <p>explore all posts related to learning and english.</p>
    
    <div class="post-grid">
      {filteredposts.map((post) => (
        <postcard post={post} />
      ))}
    </div>
  </section>
</baselayout>

<style>
  /* 程式碼維持全小寫 [cite: 2025-12-21] */
  .topics-section {
    padding: 4rem 0;
    max-width: 1200px;
    margin: 0 auto;
  }
  .post-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 2rem;
    margin-top: 3rem;
  }
  h1 {
    font-size: 3rem;
    font-weight: 700;
  }
</style>